# MongoDB Connection
MONGO_URI=mongodb://localhost:27017
DB_NAME=test
COLLECTION_NAMES=collection1,collection2

# Change Stream stability
# IMPORTANT: For long-running change streams, it's recommended to disable socket timeout (0).
MONGO_SOCKET_TIMEOUT_MS=0
# How long the server can wait before replying to a getMore on the change stream.
MONGO_MAX_AWAIT_TIME_MS=60000

# Restart behavior
# Retry counter only resets after being healthy/stable for this long (ms). Helps prevent fast restart loops.
RETRY_RESET_AFTER_MS=300000

# RabbitMQ Connection
RABBITMQ_URL=amqp://localhost
QUEUE_NAME=mongo_changes

# Rate Limiting & Queue Settings
MAX_CONCURRENT=10          # Max parallel change processing
MAX_QUEUE_SIZE=1000        # Max pending changes before backpressure

# Memory & Monitoring
MAX_MEMORY_MB=512          # Auto-restart if memory exceeds this limit

# Health Check
HEALTH_PORT=3000

